!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.webit||(e.webit={})).calendar=t()}}(function(){return function t(e,i,n){function s(r,h){if(!i[r]){if(!e[r]){var a="function"==typeof require&&require;if(!h&&a)return a(r,!0);if(o)return o(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){var i=e[r][1][t];return s(i?i:t)},c,c.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e,i){function n(t,e){var i=s(t);return i.setDate(i.getDate()+e),i}var s=t("./cloneDate");e.exports=n},{"./cloneDate":4}],2:[function(t,e,i){function n(t,e){var i=s(t),n=i.getDate();return i.setDate(1),i.setMonth(i.getMonth()+e),i.setDate(Math.min(n,o(i.getFullYear(),i.getMonth()+1))),i}var s=t("./cloneDate"),o=t("./daysInMonth");e.exports=n},{"./cloneDate":4,"./daysInMonth":6}],3:[function(t,e,i){var n=t("./dom/render");e.exports={dom:n}},{"./dom/render":12}],4:[function(t,e,i){function n(t){return new Date(t.getTime())}e.exports=n},{}],5:[function(t,e,i){function n(t){"undefined"==typeof t&&(t=new Date);var e=t.getDay();return 0==e&&(e=7),e}e.exports=n},{}],6:[function(t,e,i){function n(t,e){return new Date(t,e,0).getDate()}e.exports=n},{}],7:[function(t,e,i){function n(){var t=document.createElement("a");return t.className="calendar__nav calendar__nav--prev",t.appendChild(document.createTextNode("<")),t}function s(){var t=document.createElement("a");return t.className="calendar__nav calendar__nav--next",t.appendChild(document.createTextNode(">")),t}function o(t,e){var i=document.createElement("a");return i.className="calendar__datecaption",i.appendChild(e),i}function r(t,e){return document.createTextNode(e.get("fullDateFormatter",h)(t))}function h(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}function a(t,e){this.props=e,this.el=document.createElement("div"),this.navPrev=n(),this.navNext=s(),this.dateCaptionTextNode=r(t,this.props),this.dateCaption=o(t,this.dateCaptionTextNode),this.el.className="calendar__switch",this.el.appendChild(this.navPrev),this.el.appendChild(this.dateCaption),this.el.appendChild(this.navNext)}a.prototype={getEl:function(){return this.el},getNavPrev:function(){return this.navPrev},getNavNext:function(){return this.navNext},getDateCaption:function(){return this.dateCaption},isNavPrev:function(t){return this.navPrev==t},isNavNext:function(t){return this.navNext==t},isDateCaption:function(t){return this.dateCaption==t},setDate:function(t){this.dateCaptionTextNode.nodeValue=this.props.get("fullDateFormatter",h)(t)}},e.exports=a},{}],8:[function(t,e,i){function n(t,e){var i=["calendar__date"];return e.dateProps.currMonth?i.push("calendar__date--currentmonth"):e.dateProps.prevMonth?i.push("calendar__date--prevmonth"):e.dateProps.nextMonth&&i.push("calendar__date--nextmonth"),e.dateProps.currDate&&i.push("calendar__date--currdate"),t.className=i.join(" "),t}function s(t,e){return e?e.nodeValue=t.date.getDate():e=document.createTextNode(t.date.getDate()),e}function o(t,e){this.props=e,this.el=n(document.createElement("div"),t),this.elContent=this.props.get("monthDayFormatter",s)(t,null),this.el.appendChild(this.elContent)}var r=t("./emptyElement");o.prototype={getEl:function(){return this.el},setDate:function(t){n(this.el,t);var e=this.props.get("monthDayFormatter",s)(t,this.elContent);this.el.contains(e)||(this.elContent=e,r(this.el).appendChild(this.elContent))}},e.exports=o},{"./emptyElement":9}],9:[function(t,e,i){function n(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}e.exports=n},{}],10:[function(t,e,i){function n(t,e){this.el=document.createElement("div"),this.el.className="calendar__month",this.date=a(t),this.days=[];for(var i,n=o(s(this.date),this.date),r=0;r<n.length;r++){i=document.createElement("div"),i.className="calendar__week";for(var h=0;h<n[r].length;h++)"undefined"==typeof this.days[r]&&(this.days[r]=[]),this.days[r][h]={data:n[r][h],el:new c(n[r][h],e)},i.appendChild(this.days[r][h].el.getEl());this.el.appendChild(i)}}var s=t("../monthStructure"),o=t("../setMonthStructureDatesProps"),r=t("../each2d"),h=t("../find2d"),a=t("../cloneDate"),u=t("../daysInMonth"),c=t("./dayEl");n.prototype={getEl:function(){return this.el},getDays:function(){return this.days},getDate:function(){return this.date},findDayByEl:function(t){return h(this.days,function(e){return e.el.getEl().contains(t)},function(t){return t.data})},applyDateChanges:function(t){var e=this;r(o(s(t),t),function(t,i,n){e.days[i][n].data=t,e.days[i][n].el.setDate(t)})},setDate:function(t){this.date=a(t),this.applyDateChanges(this.date)},changeMonthDate:function(t){this.date.getDate()!=t&&(this.date.setDate(Math.min(t,u(this.date.getFullYear(),this.date.getMonth()+1))),this.applyDateChanges(this.date))}},e.exports=n},{"../cloneDate":4,"../daysInMonth":6,"../each2d":15,"../find2d":17,"../monthStructure":23,"../setMonthStructureDatesProps":25,"./dayEl":8}],11:[function(t,e,i){function n(){this.months=[]}var s=t("../each"),o=t("../find");n.prototype={push:function(t){return this.months.push(t),t},each:function(t){s(this.months,t)},findDayByEl:function(t){for(var e=!1,i=0;i<this.months.length&&!(e=this.months[i].findDayByEl(t));i++);return e},findMonthByConainer:function(t){return o(this.months,function(e){return t.contains(e.el)})}},e.exports=n},{"../each":14,"../find":16}],12:[function(t,e,i){function n(t,e){this.events=this.prepareEvents(["dateclick","prevclick","nextclick","datecaptionclick"]),this.props=new h(e),this.date=r(t),this.el=document.createElement("div"),this.el.className="calendar",this.dateSwitch=new d(this.date,this.props),this.el.appendChild(this.dateSwitch.getEl()),this.slidesEl=document.createElement("div"),this.slidesEl.className="calendar__slides",this.el.appendChild(this.slidesEl),this.slideEls=[];for(var i=0;i<10;i++){var n=document.createElement("div");n.className="calendar__slide",this.slidesEl.appendChild(n),this.slideEls.push(n)}this.months=new l,this.initInfinitySwipe(),this.setEvents("add")}var s=t("../domEvents"),o=t("../addMonths"),r=t("../cloneDate"),h=t("../properties"),a=t("../isLowerMonthThan"),u=t("../isHigherMonthThan"),c=t("../isSameMonth"),d=t("./dateSwitchEl"),f=t("./monthEl"),l=t("./months"),p=t("./emptyElement"),g=t("infinityswipe");n.prototype={setEvents:function(t){function e(t){var e=s.eventTarget(t),n=i.months.findDayByEl(e);n?i.handleMonthDayClick(n):i.dateSwitch.isNavPrev(e)?(i.infty.prevSlide(),i.fire("prevclick",[])):i.dateSwitch.isNavNext(e)?(i.infty.nextSlide(),i.fire("nextclick",[])):i.dateSwitch.isDateCaption(e)&&i.fire("datecaptionclick",[])}var i=this;"add"==t?s.addEvent(this.el,"click",e):s.removeEvent(this.el,"click",e),this.infty.onChange(function(){i.handleSlideChange()}),this.infty.onSlideAdd(function(t,e){i.handleSlideAdd(t,e)})},prepareEvents:function(t){var e={};for(var i in t)e[t[i]]=[];return e},on:function(t,e){return"undefined"!=typeof this.events[t]&&this.events[t].push(e),this},fire:function(t,e){for(var i in this.events[t])this.events[t][i].apply(this,e)},getEl:function(){return this.el},setDate:function(t){var e=this;this.date=r(t),this.dateSwitch.setDate(t),this.months.each(function(t){t.changeMonthDate(e.date.getDate())})},handleMonthDayClick:function(t){var e=this;c(this.date,t.date)||(a(t.date,this.date)?setTimeout(function(){e.infty.prevSlide()},2):u(t.date,this.date)&&setTimeout(function(){e.infty.nextSlide()},2)),this.setDate(t.date),this.fire("dateclick",[t.date])},handleSlideAdd:function(t,e){var i=this.months.findMonthByConainer(e);i?i.setDate(o(this.inftySlidesDate,t)):i=this.months.push(new f(o(this.inftySlidesDate,t),this.props)),p(e).appendChild(i.el)},handleSlideChange:function(){var t=this.infty.getCurrent(),e=this.months.findMonthByConainer(t.el);this.setDate(e.getDate())},initInfinitySwipe:function(){this.inftySlidesDate=r(this.date),this.infty=new g(this.slidesEl,this.slideEls)},destroy:function(){this.setEvents("remove"),this.el&&(this.el.parentNode.removeChild(this.el),delete this.el)}},e.exports=n},{"../addMonths":2,"../cloneDate":4,"../domEvents":13,"../isHigherMonthThan":19,"../isLowerMonthThan":20,"../isSameMonth":22,"../properties":24,"./dateSwitchEl":7,"./emptyElement":9,"./monthEl":10,"./months":11,infinityswipe:30}],13:[function(t,e,i){function n(t,e,i,n){n="undefined"!=typeof n&&n,t.attachEvent?(t["e"+e+i]=i,t[e+i]=function(){t["e"+e+i](window.event)},t.attachEvent("on"+e,t[e+i])):t.addEventListener(e,i,n)}function s(t,e,i,n){n="undefined"!=typeof n&&n,t.detachEvent?(t.detachEvent("on"+e,t[e+i]),t[e+i]=null):t.removeEventListener(e,i,n)}function o(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function r(t){var e;return t.target?e=t.target:t.srcElement&&(e=t.srcElement),3==e.nodeType&&(e=e.parentNode),e}e.exports={addEvent:n,removeEvent:s,preventEvent:o,eventTarget:r}},{}],14:[function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++)e(t[i],i)}e.exports=n},{}],15:[function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++)e(t[i][n],i,n)}e.exports=n},{}],16:[function(t,e,i){function n(t,e,i){for(var n=0;n<t.length;n++)if(e(t[n],n)===!0)return i?i(t[n]):t[n];return!1}e.exports=n},{}],17:[function(t,e,i){function n(t,e,i){for(var n=0;n<t.length;n++)for(var s=0;s<t[n].length;s++)if(e(t[n][s],n,s)===!0)return i?i(t[n][s]):t[n][s];return!1}e.exports=n},{}],18:[function(t,e,i){function n(t,e){return{currMonth:s(t,e),currDate:o(t,e),prevMonth:r(t,e),nextMonth:h(t,e)}}var s=t("./isSameMonth"),o=t("./isSameDate"),r=t("./isLowerMonthThan"),h=t("./isHigherMonthThan");e.exports=n},{"./isHigherMonthThan":19,"./isLowerMonthThan":20,"./isSameDate":21,"./isSameMonth":22}],19:[function(t,e,i){function n(t,e){return t.getFullYear()>e.getFullYear()||t.getFullYear()==e.getFullYear()&&t.getMonth()>e.getMonth()}e.exports=n},{}],20:[function(t,e,i){function n(t,e){return t.getFullYear()<e.getFullYear()||t.getFullYear()==e.getFullYear()&&t.getMonth()<e.getMonth()}e.exports=n},{}],21:[function(t,e,i){function n(t,e){return t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()}e.exports=n},{}],22:[function(t,e,i){function n(t,e){return t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()}e.exports=n},{}],23:[function(t,e,i){function n(t){"undefined"==typeof t&&(t=new Date);var e=[],i=new Date(t.getTime());i.setDate(1);for(var n=0;n<6;n++)e.push(s(i)),i=o(i,7);return e}var s=t("./weekStructure"),o=t("./addDays");e.exports=n},{"./addDays":1,"./weekStructure":26}],24:[function(t,e,i){function n(t){this.props="undefined"==typeof t?{}:t}n.prototype={get:function(t,e){return"undefined"==typeof this.props[t]?e:this.props[t]}},e.exports=n},{}],25:[function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++)t[i][n]={date:t[i][n],dateProps:s(t[i][n],e)};return t}var s=t("./getDateProps");e.exports=n},{"./getDateProps":18}],26:[function(t,e,i){function n(t){"undefined"==t&&(t=new Date);for(var e=[],i=-o(t),n=0;n<=6;n++)e.push(s(t,++i));return e}var s=t("./addDays"),o=t("./dayOfWeek");e.exports=n},{"./addDays":1,"./dayOfWeek":5}],27:[function(t,e,i){function n(t){return"undefined"!=typeof jQuery?t instanceof jQuery:!(!t||"undefined"==typeof t.jquery)}function s(t){return"[object Array]"===Object.prototype.toString.call(t)||"[object HTMLCollection]"===Object.prototype.toString.call(t)||"[object NodeList]"===Object.prototype.toString.call(t)}function o(t){this.items=t,this.itemsType="",n(this.items)?this.itemsType="jquery":s(this.items)&&(this.itemsType="array")}o.prototype={each:function(t){switch(this.itemsType){case"jquery":this.items.each(function(e){t(this,e)});break;case"array":for(var e=0;e<this.items.length;e++)t(this.items[e],e)}}},e.exports=o},{}],28:[function(t,e,i){function n(t,e){return parseInt(t.getPropertyValue(e),10)}function s(t){var e=getComputedStyle(t),i=n(e,"border-left-width")+n(e,"border-right-width"),s=n(e,"border-top-width")+n(e,"border-bottom-width"),o=n(e,"padding-left")+n(e,"padding-right"),r=n(e,"padding-top")+n(e,"padding-bottom");return"undefined"!=typeof t.getBoundingClientRect&&"undefined"!=typeof t.getBoundingClientRect().width&&"undefined"!=typeof t.getBoundingClientRect().height?{width:t.getBoundingClientRect().width-i-o,height:t.getBoundingClientRect().height-s-r}:{width:t.offsetWidth-i-o,height:t.offsetHeight-s-r}}e.exports=s},{}],29:[function(t,e,i){function n(t,e){return parseInt(t.getPropertyValue(e),10)}function s(t,e){e="undefined"!=typeof e&&e;var i=getComputedStyle(t),s=0,o=0;return e&&(s=n(i,"margin-left")+n(i,"margin-right"),o=n(i,"margin-top")+n(i,"margin-bottom")),"undefined"!=typeof t.getBoundingClientRect&&"undefined"!=typeof t.getBoundingClientRect().width&&"undefined"!=typeof t.getBoundingClientRect().height?{width:t.getBoundingClientRect().width+s,height:t.getBoundingClientRect().height+o,marginH:s,marginV:o}:{width:t.offsetWidth+s,height:t.offsetHeight+o,marginH:s,marginV:o}}e.exports=s},{}],30:[function(t,e,i){function n(t,e,i){function n(){new s(g(),{direction:"horizontal"}).on("start",c).on("move",d).on("touchend",f)}function a(){M=new r(e,b,{onSlideAdd:w})}function u(){C=new o}function c(t){L&&(C.isRunning()&&C.stop(),M.start(),S=!0)}function d(t){L&&(C.isRunning()||S&&M.setXOffset(t.offset.x))}function f(t){L&&S&&(S=!1,l(t.direction,t.isSwipe,m(0,b)))}function l(t,e,i){if("undefined"!=typeof i&&!C.isRunning()){var n,s,o;"right"==t?(o="right",n=Math.abs(i)/b,!e&&n<.3333&&(n=1-n,o="left")):"left"==t&&(o="right",n=Math.abs(i)/b,(e||n<.7777)&&(n=1-n,o="left")),M.start(),C.runFrom(n,_,k,function(t){s=b-t*b,"right"==o?s=b-i-s:"left"==o&&(s=(i-s)*-1),M.setXOffset(s)},function(){p()})}}function p(){"undefined"!=typeof E&&E()}function g(){return i&&i.swipeTarget?i.swipeTarget:t}function v(t,e){for(var i=0;i<M.slides.length;i++)if(M.slides[i].x>t&&M.slides[i].x<e)return M.slides[i]}function m(t,e){var i=v(t,e);if(i)return i.x}function y(t){for(var e=void 0,i=0;i<M.slides.length;i++)M.slides[i].x>t&&("undefined"==typeof e||M.slides[i].x<e)&&(e=M.slides[i].x);return e}function w(t,e){D&&D(t,e)}function T(t){L=t}function x(){b=h(t).width,M&&(M.setViewportWidth(b),M.resize())}var D,E,M,C,b=0,S=!1,k=[0,0,.12,1],_=300,L=!0;return setTimeout(function(){x(),n(),a(),u()}),{onSlideAdd:function(t){D=t},onChange:function(t){E=t},restart:function(){M.reset()},nextSlide:function(){l("left",!0,y(0))},prevSlide:function(){l("right",!0,0)},showSlide:function(t){M.showByIndex(t)},getCurrent:function(){return v(-1,b)},getNext:function(){var t=v(-1,b);return M.getByIndex(t.index+1)},getPrev:function(){var t=v(-1,b);return M.getByIndex(t.index-1)},getSlides:function(){return M},disable:function(){T(!1)},enable:function(){T(!0)},resize:function(){x()}}}var s=t("swipe"),o=t("stepper"),r=t("./slides"),h=t("./getElementDimensions");e.exports=function(t,e,i){return n(t,e,i)}},{"./getElementDimensions":28,"./slides":31,stepper:33,swipe:34}],31:[function(t,e,i){var n=t("./getElementOuterDimensions"),s=t("./elementsCollection"),o=function(t,e,i){this.viewport={width:e},this.slidesCount=0,this.slides=[],this.slideAddCallbacks=[],i&&i.onSlideAdd&&this.slideAddCallbacks.push(i.onSlideAdd),this.slidesElements=new s(t),this.prepareSlides(this.slidesElements)};o.prototype={prepareSlides:function(t){var e=this;t.each(function(t){e.push(t)}),this.balanceSlides()},reset:function(){this.slides=[],this.prepareSlides(this.slidesElements)},setViewportWidth:function(t){this.viewport.width=t},resize:function(){for(var t=0;t<this.slides.length;t++)this.slides[t].width=n(this.slides[t].el).width;for(var e=0,t=0;t<this.slides.length;t++)this.slides[t].x<0||(this.slides[t].x=e,this.slides[t].startX=e,this.setX(this.slides[t].el,e),e+=this.slides[t].width);e=0;for(var t=this.slides.length-1;t>=0;t--)this.slides[t].x>=0||(e-=this.slides[t].width,this.slides[t].x=e,this.slides[t].startX=e,this.setX(this.slides[t].el,e))},showByIndex:function(t){this.slides=[];var e=this;this.slidesElements.each(function(i,n){0==n?e.pushWithIndex(i,t):e.push(i)}),this.balanceSlides()},getByIndex:function(t){for(var e=0;e<this.slides.length;e++)if(this.slides[e].index===t)return this.slides[e];return!1},first:function(){return this.slides[0]},last:function(){return this.slidesCount>0&&this.slides[this.slidesCount-1]},nextIndex:function(){return this.last()?this.last().index+1:0},nextX:function(){return this.last()?this.last().x+this.last().width:0},nextStartX:function(){return this.last()?this.last().startX+this.last().width:0},slidesCountAfterViewport:function(){for(var t=0,e=0;e<this.slidesCount;e++)this.slides[e].x>this.viewport.width&&t++;return t},slidesCountBeforeViewport:function(){for(var t=0,e=0;e<this.slidesCount;e++)this.slides[e].x+this.slides[e].width<0&&t++;return t},shift:function(){return this.slidesCount--,this.slides.shift()},pop:function(){return this.slidesCount--,this.slides.pop()},unshift:function(t){this.slidesCount=this.slides.unshift({el:t,index:this.first().index-1,x:this.first().x-n(t).width,startX:this.first().startX-n(t).width,width:n(t).width}),this.setX(t,this.first().x),this.executeSlideAddCallbacks(this.first().index,this.first().el)},push:function(t){this.pushWithIndex(t,this.nextIndex())},pushWithIndex:function(t,e){this.slidesCount=this.slides.push({el:t,index:e,x:this.nextX(),startX:this.nextStartX(),width:n(t).width}),this.setX(t,this.last().x),this.executeSlideAddCallbacks(this.last().index,this.last().el)},setX:function(t,e){t.style.transform="translate3d("+e+"px,0,0)"},start:function(){this.slides.map(function(t){t.startX=t.x})},setXOffset:function(t){for(var e=0;e<this.slidesCount;e++)this.slides[e].x=this.slides[e].startX+t,this.setX(this.slides[e].el,this.slides[e].x);this.balanceSlides()},balanceSlides:function(){if(!(this.viewport.width<=0)){for(;this.slidesCountAfterViewport()<=1;)this.push(this.shift().el);for(;this.slidesCountBeforeViewport()<=1;)this.unshift(this.pop().el)}},executeSlideAddCallbacks:function(){for(var t=0;t<this.slideAddCallbacks.length;t++)this.slideAddCallbacks[t].apply(this,arguments)}},e.exports=o},{"./elementsCollection":27,"./getElementOuterDimensions":29}],32:[function(t,e,i){var n=function(t,e,i,n){function s(t){return(3*c*t+2*u)*t+a}function o(t){return((c*t+u)*t+a)*t}function r(t){return((l*t+f)*t+d)*t}function h(t){var e,i,n,r,h,a;for(n=t,a=0;a<8;a++){if(r=o(n)-t,Math.abs(r)<p)return n;if(h=s(n),Math.abs(h)<1e-6)break;n-=r/h}if(e=0,i=1,n=t,n<e)return e;if(n>i)return i;for(;e<i;){if(r=o(n),Math.abs(r-t)<p)return n;t>r?e=n:i=n,n=.5*(i-e)+e}return n}var a=3*t,u=3*(i-t)-a,c=1-a-u,d=3*e,f=3*(n-e)-d,l=1-d-f,p=1e-5;this.get=function(t){return r(h(t))}};e.exports=n},{}],33:[function(t,e,i){var n=t("./bezier2.js"),s=function(){this.defaultBezierCurve=[0,0,1,1],this.precision=1e7,this.progress=0,this.current=0,this.requestId=0,this.inProgress=!1};s.prototype={run:function(t,e,i,n,s){this.stepCallback=i,this.doneCallback=n,this.forceStopCallback=s,this.easing=this.getEasing(e),this.duration=isNaN(t)?0:t,this.current=0,this.start(),this.step()},runFrom:function(t,e,i,n,s){this.stepCallback=n,this.doneCallback=s,this.easing=this.getEasing(i),t=this.findStartProgress(t,.1,0,1),this.duration=e,this.startTime=+new Date,this.startTime-=e*t,this.progress=t,this.inProgress=!0,this.step()},findStartProgress:function(t,e,i,n,s){"undefined"==typeof s&&(s=0);for(var o,h=i,a=0;h<n;){if(s++>40)return h;if(r=this.easing.get(h),Math.round(t*this.precision)==Math.round(r*this.precision))return h;if(this.isBetween(t,a,r))return this.findStartProgress(t,e/10,o,h,s);o=h,a=r,h+=e}return h},isBetween:function(t,e,i){return i>e?t>e&&t<i:t>i&&t<e},isRunning:function(){return this.inProgress},start:function(){this.inProgress=!0,this.startTime=+new Date,this.progress=0},stop:function(){cancelAnimationFrame(this.requestId),this.done()},forceStop:function(){cancelAnimationFrame(this.requestId),this.inProgress=!1,this.forceStopCallback&&this.forceStopCallback()},done:function(){this.inProgress=!1,this.doneCallback&&this.doneCallback()},step:function(){var t=this;t.trackProgress(),this.current<this.startTime+this.duration?(this.stepCallback(this.progress),this.requestId=requestAnimationFrame(function(){t.step()})):(this.stepCallback(1),this.done())},trackProgress:function(){this.current=+new Date;var t=this.current-this.startTime;this.progress=this.easing.get(t/this.duration)},getEasing:function(t){return t&&t.length&&4==t.length||(t=this.defaultBezierCurve),new n(t[0],t[1],t[2],t[3])}},e.exports=s},{"./bezier2.js":32}],34:[function(t,e,i){!function(t,n){"object"==typeof i?e.exports=n():("undefined"==typeof t.webit&&(t.webit={}),t.webit.swipe=n())}(this,function(){var t=0,e=function(t){this.items=t};e.prototype={first:function(){return this.items.length>0&&this.items[0]},second:function(){return this.items.length>1&&this.items[1]}};var i=function(e,i){return this.instanceId=t++,this.swipeEl=document.getElementsByTagName("body")[0],this.el=e,this.events=this.prepareEvents(["swipe","move","start","end","pinchstart","pinchend","pinchmove","touchend","touchmove","tap","doubletap"]),this.config(i),this.setTouchAction(this._config.direction),this.touches={},this.touchesCount=0,this.slopeFactor=1,this.startTouches=!1,this.firstMoveTouches=!1,this.currentTouches=!1,this.width,this.height,this.duration,this.moveDirection=null,this.swipeLogStackMaxLength=4,this.swipeLog={stack:[],duration:0,width:0,height:0},this.tapsLog={},this.waitForDoubleTap=!1,this.tapsLogExecuteTimeout=0,this.isTouchEvents=!1,this.isTouchedValidElement=!1,this.isMouseDown=void 0,this.handleEvents("add"),this};return i.prototype={prepareEvents:function(t){var e={};for(var i in t)e[t[i]]=[];return e},handleEvents:function(t){var e=this,i=function(t){e.registerTouches(t),e.isTouchedValidElement=e.touchesCount>0,e.isTouchedValidElement&&e._start(t)},n=function(t){e.isTouchedValidElement&&(e._end(t),e.isTouchedValidElement=!1),e.unregisterTouches(t),e.maybeFireTapping()},s=function(t){e.registerTouches(t),e.isTouchedValidElement&&e._move(t)},o=function(t){e.isTouchEvents=!0,i(t)},r=function(t){n(t)},h=function(t){s(t)},a=function(t,e){return t.x!=e.x||t.y!=e.y},u=function(t){e.isMouseDown=e.formatTouch(t),e.isTouchEvents||i(t)},c=function(t){e.isTouchEvents||n(t),e.isMouseDown=void 0},d=function(t){e.isTouchEvents||e.isMouseDown&&a(e.isMouseDown,e.formatTouch(t))&&s(t)},f="add"==t?"addEvent":"removeEvent";this[f](this.swipeEl,"touchstart",o),this[f](this.swipeEl,"touchmove",h,{passive:!1}),this[f](this.swipeEl,"touchend",r),this[f](this.swipeEl,"mousedown",u),this[f](this.swipeEl,"mousemove",d),this[f](this.swipeEl,"mouseup",c)},_start:function(t){this._config.alwaysPreventTouchStart&&this.preventEvent(t),this.startTouches=this.getTouches(),this.firstMoveTouches=!1,this.validMove=!1,this.moveDirection=null,this.swipeLog.stack=[],this.fire("start",[this.startTouches.first()]),this.maybeFirePinchStart()},_end:function(t){this.currentTouches=this.getTouches(),this.trackDuration(),this.trackSwipe();var e=this.formatMovement();e._swipeLog={duration:this.swipeLog.duration,width:this.swipeLog.width,height:this.swipeLog.height,stackLength:this.swipeLog.stack.lenght,isSwipe:!1},this.swipeLog.duration<80&&(this.swipeLog.width>7||this.swipeLog.height>7)&&(e._swipeLog.isSwipe=!0),e.isSwipe=e._swipeLog.isSwipe,this.startTouches=!1,this.firstMoveTouches=!1,this.validMove&&this.fire("end",[e]),this.fire("touchend",[e]),this.maybeFirePinchEnd()},_move:function(t){this.startTouches&&(this.maybePreventPinch(t),this.firstMoveTouches||(this.firstMoveTouches=this.getTouches()),this.currentTouches=this.getTouches(),this.clearTapLog(),this.trackDuration(),this.trackSwipe(),this.trackMovment(),this.fireTouchMove(),this.isValidMove()?(this.preventEvent(t),this.validMove=!0):this.validMove=!1,this.validMove&&this.fire("move",[this.formatMovement()]),this.maybeFirePinchMove())},maybeFireTapping:function(){clearTimeout(this.tapsLogExecuteTimeout),this.isEventsRegistered("doubletap")?this.maybeFireDoubleTap(this.getValidTapRegistered()):this.maybeFireSingleTap(this.getValidTapRegistered()),this.clearTapLog()},maybeFireDoubleTap:function(t){if(t){var e=this;this.waitForDoubleTap?(this.fire("doubletap",[t.touch]),this.waitForDoubleTap=!1):(this.waitForDoubleTap=!0,this.tapsLogExecuteTimeout=setTimeout(function(t){return function(){e.waitForDoubleTap=!1,e.fire("tap",[t])}}(t.touch),this._config.doubletapWaitTimeout))}},maybeFireSingleTap:function(t){t&&this.fire("tap",[t.touch])},maybePreventPinch:function(t){this._config.disablePinch&&this.touchesCount>=2&&t.preventDefault()},maybeFirePinchStart:function(){this.touchesCount<2||this.fire("pinchstart",[this.formatPinch(this.startTouches.first().x,this.startTouches.second().x,this.startTouches.first().y,this.startTouches.second().y)])},maybeFirePinchEnd:function(){this.touchesCount<2&&this.fire("pinchend",[])},maybeFirePinchMove:function(){this.touchesCount<2||this.fire("pinchmove",[{first:this.formatPinch(this.firstMoveTouches.first().x,this.firstMoveTouches.second().x,this.firstMoveTouches.first().y,this.firstMoveTouches.second().y),current:this.formatPinch(this.currentTouches.first().x,this.currentTouches.second().x,this.currentTouches.first().y,this.currentTouches.second().y)}])},formatPinch:function(t,e,i,n){return{x1:t,y1:i,x2:e,y2:n,width:Math.abs(t-e),height:Math.abs(i-n),distance:Math.sqrt(Math.pow(Math.abs(t-e),2)+Math.pow(Math.abs(i-n),2)),center:{x:this.calcMid(t,e),y:this.calcMid(i,n)}}},calcMid:function(t,e){return t<e?(e-t)/2+t:(t-e)/2+e},formatMovement:function(){return{direction:this.getFormattedDirection(),offset:this.offset,duration:this.duration,width:this.width,height:this.height,x:this.currentTouches.first().x,y:this.currentTouches.first().y,touchedElement:this.currentTouches.first().touchedElement,speed:this.width/this.duration,realDirection:this.direction}},getFormattedDirection:function(){return this.isDirection(this._config.direction,"horizontal")||this.isDirection(this._config.direction,"vertical")?this.getDirection():this.isDirection(this._config.direction,"horizontal")?this.getHorizontalDirection():this.isDirection(this._config.direction,"vertical")?this.getHorizontalDirection():void 0},isValidMove:function(){if(this.swipeLog.stack.length<2)return!1;if(this._config.direction.length>0&&(this.moveDirection||(this.moveDirection=this.getMoveDirection()),!this.isDirection(this._config.direction,this.moveDirection)))return!1;var t={minWidth:"width",minHeight:"height",minDuration:"duration"},e={maxWidth:"width",maxHeight:"height",maxDuration:"duration"};for(var i in t)if(this._config[i]&&this[t[i]]<this._config[i])return!1;for(var i in e)if(this._config[i]&&this[e[i]]>this._config[i])return!1;return!0},trackMovment:function(){this.offset={x:this.currentTouches.first().x-this.firstMoveTouches.first().x,y:this.currentTouches.first().y-this.firstMoveTouches.first().y},this.width=Math.abs(this.offset.x),this.height=Math.abs(this.offset.y),this.direction=this.getDirection()},trackDuration:function(){this.duration=this.currentTouches.first().t-this.startTouches.first().t},trackSwipe:function(){this.swipeLog.stack.push({x:this.currentTouches.first().x,y:this.currentTouches.first().y,duration:this.duration}),this.swipeLog.stack.length>this.swipeLogStackMaxLength&&this.swipeLog.stack.shift(),this.swipeLog.duration=this.swipeLog.stack[this.swipeLog.stack.length-1].duration-this.swipeLog.stack[0].duration,this.swipeLog.width=Math.abs(this.swipeLog.stack[this.swipeLog.stack.length-1].x-this.swipeLog.stack[0].x),this.swipeLog.height=Math.abs(this.swipeLog.stack[this.swipeLog.stack.length-1].y-this.swipeLog.stack[0].y)},getDirection:function(){return this.getVerticalDirection()?this.getVerticalDirection():this.getHorizontalDirection()?this.getHorizontalDirection():void 0},getHorizontalDirection:function(){return this.currentTouches.first().x>this.startTouches.first().x?"right":this.currentTouches.first().x<this.startTouches.first().x&&"left"},getVerticalDirection:function(){if(this.offset){var t=this.offset.y/this.offset.x;if(t>this.slopeFactor)return"up";if(t<-this.slopeFactor)return"down"}return!1},getMoveDirection:function(){return this.isHorizontalDirection()?"horizontal":this.isVerticalDirection()?"vertical":""},isHorizontalDirection:function(){return"left"==this.direction||"right"==this.direction},isVerticalDirection:function(){return"up"==this.direction||"down"==this.direction},handleTouchRegistered:function(t){this.touchesCount++,1==this.touchesCount&&this.registerTapLog(this.touches[t.identifier])},handleTouchUnregistered:function(t){this.touchesCount--,this.unregisterTapLog(t)},registerTouches:function(t){if(t.changedTouches)for(var e=0;e<t.changedTouches.length;e++)this.registerTouch(this.formatTouch(t.changedTouches[e]),this.eventTarget(t.changedTouches[e]));else this.registerTouch(this.formatTouch(t),this.eventTarget(t))},unregisterTouches:function(t){if(t.changedTouches)for(var e=0;e<t.changedTouches.length;e++)this.unregisterTouch(t.changedTouches[e].identifier);else this.unregisterTouch("_faketouch")},registerTouch:function(t,e){return!!this.isTheElement(e)&&(this.isTouchRegistered(t)?(this.touches[t.identifier]=t,this.touches[t.identifier].touchedElement=e,!1):(this.touches[t.identifier]=t,this.touches[t.identifier].touchedElement=e,void this.handleTouchRegistered(this.touches[t.identifier])))},unregisterTouch:function(t){"undefined"!=typeof this.touches[t]&&(delete this.touches[t],this.handleTouchUnregistered(t))},isTouchRegistered:function(t){return"undefined"!=typeof this.touches[t.identifier]},getTouch:function(t){var e=!1,i=t.changedTouches;return e=i?i[0]:t,e=!!e&&this.formatTouch(e),e&&(e.touchedElement=this.eventTarget(t)),e},getTouches:function(){var t=this;return new e(this.map(this.touches,function(e){return t.clone(e)}))},formatTouch:function(t){return{identifier:"undefined"==typeof t.identifier?"_faketouch":t.identifier,x:"undefined"==typeof t.pageX?t.x:t.pageX,y:"undefined"==typeof t.pageY?t.y:t.pageY,t:(new Date).getTime()}},registerTapLog:function(t){this.tapsLog[t.identifier]={touch:this.clone(t),startTime:(new Date).getTime(),endTime:void 0,duration:void 0,executed:!1}},unregisterTapLog:function(t){"undefined"!=typeof this.tapsLog[t]&&this.registerTapEnd(this.tapsLog[t])},clearTapLog:function(){this.tapsLog={}},registerTapEnd:function(t){t.endTime||(t.endTime=(new Date).getTime(),t.duration=t.endTime-t.startTime)},getValidTapRegistered:function(){var t=!1,e=this;return this.each(this.tapsLog,function(i){e.validateTap(i)&&(t=i)}),t},validateTap:function(t){return t.duration>this._config.tapMinDuration&&t.duration<this._config.tapMaxDuration},fire:function(t,e){for(var i in this.events[t])this.events[t][i].apply(this,e)},fireTouchMove:function(){var t=this.formatMovement();(t.width>0||t.height>0)&&this.fire("touchmove",[t])},isTheElement:function(t){return t==this.el||this.isChild(t,this.el)},isChild:function(t,e){for(var i=t.parentNode;i;){if(i==e)return!0;i=i.parentNode}return!1},addEvent:function(t,e,i,n){n="undefined"!=typeof n&&n,t.attachEvent?(t["e"+e+i]=i,t[e+i]=function(){t["e"+e+i](window.event)},t.attachEvent("on"+e,t[e+i])):t.addEventListener(e,i,n)},removeEvent:function(t,e,i,n){n="undefined"!=typeof n&&n,t.detachEvent?(t.detachEvent("on"+e,t[e+i]),t[e+i]=null):t.removeEventListener(e,i,n)},preventEvent:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},eventTarget:function(t){var e;return t.target?e=t.target:t.srcElement&&(e=t.srcElement),3==e.nodeType&&(e=e.parentNode),e},on:function(t,e){return"undefined"!=typeof this.events[t]&&this.events[t].push(e),this},isEventsRegistered:function(t){return"undefined"!=typeof this.events[t]&&this.events[t].length>0},config:function(t){function e(t,e){
switch(e){case"int":return parseInt(t,10);case"boolean":return!!t;default:return t}}function i(t,i){if("undefined"==typeof i.multiple&&(i.multiple=!1),i.multiple){t=t.split(" ");for(var n=0;n<t.length;n++)t[n]=e(t[n],i.type)}else t=e(t,i.type);return t}"undefined"==typeof t&&(t={});var n={direction:{value:["horizontal","vertical"],type:"string",multiple:!0},minWidth:{value:!1,type:"int"},minHeight:{value:!1,type:"int"},minDuration:{value:!1,type:"int"},maxWidth:{value:!1,type:"int"},maxHeight:{value:!1,type:"int"},maxDuration:{value:!1,type:"int"},disablePinch:{value:!1,type:"boolean"},alwaysPreventTouchStart:{value:!1,type:"boolean"},doubletapWaitTimeout:{value:530,type:"int"},tapMaxDuration:{value:600,type:"int"},tapMinDuration:{value:5,type:"int"}};this._config={};for(var s in n)this._config[s]="undefined"==typeof t[s]?n[s].value:i(t[s],n[s])},setTouchAction:function(t){var e=[];this.isDirection(t,"vertical")&&e.push("pan-x"),this.isDirection(t,"horizontal")&&e.push("pan-y"),e.length>0?this.el.style.touchAction=e.join(" "):this.el.style.touchAction="none"},isDirection:function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},destroy:function(){this.handleEvents("remove"),this.events=[]},objProps:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},map:function(t,e){var i=[];for(var n in t)t.hasOwnProperty(n)&&i.push(e(t[n],t));return i},each:function(t,e){for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},clone:function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}},i})},{}]},{},[3])(3)});